<div class="messages-wrapper">
  <h3>Messages List</h3>

  <mat-table [dataSource]="messages || []" class="mat-elevation-z8">
    <!-- ID Column -->
    <ng-container matColumnDef="id">
      <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
      <mat-cell *matCellDef="let message">{{ message.id }}</mat-cell>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
      <mat-cell *matCellDef="let message">{{ message.name }}</mat-cell>
    </ng-container>

    <!-- Message Column -->
    <ng-container matColumnDef="message">
      <mat-header-cell *matHeaderCellDef>Message</mat-header-cell>
      <mat-cell *matCellDef="let message"
        >{{ message.message | slice : 0 : 100
        }}{{ message.message.length > 100 ? "..." : "" }}</mat-cell
      >
    </ng-container>

    <!-- Date Column -->
    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
      <mat-cell *matCellDef="let message">{{
        message?.date?.toDate() | date : "EEEE, MMMM d, y"
      }}</mat-cell>
    </ng-container>

    <!-- Table Header -->
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <!-- Table Rows -->
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>

  <!-- <mat-list>
    @for (message of messages ; track message.id) {
    <mat-list-item>
      <mat-card appearance="outlined">
        <mat-card-content>
          <b> Name:</b>{{ message.name | titlecase }} <br />
          <b> Message: </b>{{ message.message }}
        </mat-card-content>
      </mat-card>
    </mat-list-item>

    <br />
    }
  </mat-list> -->
</div>
